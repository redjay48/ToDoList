(()=>{const e=document.getElementById("new-project"),t=document.getElementById("display-project"),n=document.getElementById("save-project"),d=document.getElementById("set-default"),o=document.getElementById("delete-project"),c=(()=>{const e=[],n=t=>{const n=document.body.children[3];e.push(n),n.classList.add(`${t}`),console.log(e)};return{projectArray:e,createProjectDiv:()=>{newdiv=document.createElement("div");const e=document.createElement("div"),t=document.createElement("button"),n=document.createElement("p");e.classList.add("task-div"),n.classList.add("project-name"),t.classList.add("task-btn"),t.textContent="Add New Task",e.appendChild(n),e.appendChild(t),newdiv.appendChild(e),document.body.appendChild(newdiv),newdiv.classList.add("project"),l.createToDoHead(newdiv),(()=>{if(document.body.children.length>4){const e=document.body.children[3];document.body.removeChild(e)}})(),t.addEventListener("click",l.addNewTaskToTable)},pushProjectDivToArray:n,saveProjectToSelection:()=>{const e=document.body.children[3];if(2===e.classList.length)return void alert("Project Already Saved!!");const d=document.createElement("option"),o=prompt("Please Enter Project Name");d.text=o,d.value=o.toLowerCase().split(/[ ,]+/).join("-"),className=d.value,t.add(d),e.children[0].children[0].textContent=d.text.toUpperCase(),n(className)},setDefaultProject:()=>{const e=document.body.children[3];if(2!==e.classList.length)alert("Please Save Project First!!!");else{const t=e;console.log(t),console.log(t.classList)}},deleteProject:()=>{const e=document.body.children[3];2===e.classList.length?confirm("Are You Sure You Want To Delete This Saved Project?")&&document.body.removeChild(e):e.children[1].children[0].children.length>1?confirm("There is unsaved Data in this project. Do you still want to delete this Project?")&&document.body.removeChild(e):document.body.removeChild(e)},displayProject:t=>{const n=document.body.children[3];for(let d=0;d<e.length;d++)Array.from(e[d].classList).includes(t.target.value)&&(document.body.removeChild(n),document.body.appendChild(e[d]));console.log(t.target.value)}}})(),l=(()=>{const e=[];return{createToDoHead:e=>{const t=["","title","Current Date","Due Date","Type","Priority","Time Remaining","Notes","done"],n=document.createElement("table");n.classList.add("table");const d=document.createElement("tbody"),o=document.createElement("tr");for(let e=0;e<9;e++){const n=document.createElement("td");n.classList.add("cell");const d=t[e].toUpperCase();n.textContent=`${d}`,o.appendChild(n)}d.appendChild(o),n.appendChild(d),e.appendChild(n)},addNewTaskToTable:()=>{const t=["sl-no","title","Current Date","Due Date","Type","Priority","Time Remaining","Notes","done"],n=document.body.children[3].children[1].children[0],d=document.createElement("tr");e.push(d);for(let e=0;e<9;e++){const n=document.createElement("td"),o=t[e].toLowerCase().split(/[ ,]+/).join("-");n.classList.add("cell"),n.setAttribute("id",o),d.appendChild(n)}d.children[0].textContent=e.length,a.title(d),a.type(d),a.taskBtns(d),a.priorityBtns(d),a.completion(d),a.notes(d),n.appendChild(d)}}})(),a=(()=>{const e=e=>{const t=e.target.parentNode.parentNode.parentNode.children[1];e.target.checked?t.classList.add("line-through"):t.classList.remove("line-through")},t=e=>{btnsArray=Array.from(e.target.parentNode.children),btnsArray.forEach((e=>{e.disabled=!0})),e.target.disabled=!1};return{title:e=>{e.children[1].title="Click To Edit",e.children[1].contentEditable=!0},type:e=>{const t=document.createElement("select");t.classList.add("task-type");const n=["Development","Marketing","Management","Personal"],d=document.createElement("option");d.text="--Choose Task Type--",d.value="",t.add(d);for(let e=0;e<4;e++){const d=document.createElement("option");d.text=n[e],d.value=n[e].toLowerCase(),t.add(d)}e.children[4].appendChild(t)},taskBtns:e=>{const t=["Save","Edit","Delete"],n=document.createElement("div");n.classList.add("task-btn-div");for(let e=0;e<3;e++){const d=document.createElement("button");d.classList.add("task-btns"),d.textContent=t[e],n.appendChild(d)}e.appendChild(n)},priorityBtns:e=>{priorityNameArray=["high","medium","low","none"];const n=document.createElement("div");n.classList.add("priority-btn-div");for(let e=0;e<4;e++){const t=document.createElement("button");t.classList.add("priority-btn",priorityNameArray[e]),t.title=priorityNameArray[e].toUpperCase(),n.appendChild(t)}e.children[5].appendChild(n),Array.from(n.children).forEach((e=>{e.addEventListener("click",t)}))},completion:t=>{const n=document.createElement("div");n.classList.add("checkbox-div");const d=document.createElement("input");d.type="checkbox",d.classList.add("completion"),n.appendChild(d),t.children[8].appendChild(n),d.addEventListener("change",e)},notes:e=>{""===e.children[7].textContent&&(e.children[7].title="Click to Edit"),e.children[7].addEventListener("mousedown",(t=>{e.children[7].textContent="",e.children[7].textContent=prompt("Enter Note:");const n=e.children[7].textContent;e.children[7].title=`${n} || Click to Edit`}))}}})();e.addEventListener("click",c.createProjectDiv),n.addEventListener("click",c.saveProjectToSelection),d.addEventListener("click",c.setDefaultProject),o.addEventListener("click",c.deleteProject),t.addEventListener("change",c.displayProject)})();